<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
  <script type="importmap">
    {
      "imports": {
        "vue": "https://unpkg.com/vue@3.4.21/dist/vue.esm-browser.js",
        "vue/server-renderer": "https://play.vuejs.org/server-renderer.esm-browser.js",
        "vue-router": "https://unpkg.com/vue-router@4.3.0/dist/vue-router.esm-browser.js",
        "@vue/devtools-api": "https://unpkg.com/@vue/devtools-api@6.6.1/lib/esm/index.js"
      },
      "scopes": {}
    }
  </script>
  <script src='./app.js' type="module"></script>
</head>

<body>

  <div id="app" class="row height_fill align_top scroll">
    <!-- Sidebar Component -->
    <sidebar @sign-out="signOut"></sidebar>


    <!-- Main Content -->
    <!-- The idea here was that I would use RouterView and then pass either RecipeList or RecipeDetail depending on the route. -->
    <!-- Commented out to test if components rendered correctly -->
    <!-- <recipe-list :recipes="recipes" @show-add-form="showAddForm" @show-delete-confirm="showDeleteConfirm"
      @show-edit-form="showEditForm"></recipe-list> -->
    <!-- <recipe-detail :recipe="recipeToView"></recipe-detail> -->
    <router-view :recipes="recipes" @show-add-form="showAddForm" @show-delete-confirm="showDeleteConfirm"
      @show-edit-form="showEditForm" :recipe="recipeToView" @fetch-recipe="fetchRecipe"></router-view>



    <!-- Right Column -->
    <right-overlay v-model="overlayInput" @hide-form="hideForm" @scrape-recipe="scrapeRecipe"
      @add-or-edit-recipe="addOrEditRecipe"></right-overlay>


    <!-- Delete Confirm Modal -->
    <!-- Delete Confirm Modal -->
    <div class="modal row align_center width_fill height_fill position_fixed" :class="modalClasses">
      <!-- modal backdrop -->
      <button @click="hideDeleteConfirm" class="modal_overlay__backdrop"></button>
      <!-- modal content -->
      <div class="modal_overlay column bg_white border pad_16 gap_16 position_relative" :class="modalOverlayClasses">
        <div class="row font_32">Delete Recipe</div>
        <div class="row font_bold"> Are you sure you want to delete {{recipeToDelete.name}}?</div>
        <div class="row gap_16 align_right">
          <button @click="hideDeleteConfirm" type="button" class="button__secondary">Cancel</button>
          <button @click="deleteRecipe(recipeToDelete)" type="button" class="button">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <!-- <script type="module">

    import App from './app.js'
    App.mount('#app')
  </script> -->
</body>

</html>